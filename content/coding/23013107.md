---
id: '7'
name: '小工具筆記 -- vue3 tab'
date: '2023-01-31 21:58:29'
category: '程式語言'
tags: ['Nuxt3','front-end']
img: '/images/23013107/001.png'
description: 'vue3 簡單寫點動態切換的tab'
---
## Abstract 文章摘要
發現有些小功能很常用到，但是使用不同套件時未必都符合自己需求，每次想借一下自己以前寫過的版本
都還要花時間尋找，有點麻煩，所以把它的簡化版記錄下來。
<br/>
有需要的時候就可以很方便地使用這些原型，以下都是vue v-for + js function 的版本，樣式的部分是簡單用windi排版（箭頭是使用vuetify的）。
## 一、 collapse 手風琴式 一次打開一個tab，點擊打開的tab會關閉
先附上code ↓ ↓ ↓

<br/>

```
<template>
  <div class="m-5 mx-auto">
    <ul class="flex justify-center align-center flex-wrap w-300px">
      <li v-for="(item, index) in 5" :key="item.id" class="mb-5">
        <button
          @click="open(index)"
          class="h-50px w-300px p3 rounded pb-1 tab-title bg-blue-lighten-1 flex justify-space-around align-center">
          <span> tab{{ index + 1 }}</span>
          <v-icon
              v-if="isOpen === index"
              start
              icon="mdi-arrow-up"
          ></v-icon>
          <v-icon
              v-else
              start
              icon="mdi-arrow-down"
          ></v-icon>
        </button>
        <div class="tab-content p-3 bg-blue-lighten-3 hidden" :class="{'is-active': isOpen === index}">
          Lorem ipsum dolor sit amet, consectetur adipisicing elit. Animi dicta dolorum eveniet
          harum hic in magnam, mollitia odio pariatur rem suscipit, totam voluptatibus! Dolorum
          incidunt ipsam ipsum magni odit porro.
        </div>
      </li>
    </ul>
  </div>
</template>

<script lang="ts" setup>
import { definePageMeta } from '#imports'

definePageMeta({
  layout: 'test'
})

let isOpen = ref(0)

function open(index: number) {
  if (index == isOpen.value) {
    isOpen.value = null
    return
  } else {
    isOpen.value = index
  }
}
</script>

<style>
.tab-content.is-active {
  display: block!important;
}
</style>
```

![img](/images/23013107/001.png)

<br/>

基本上就是多一個 **isOpen** 的參數預設為0 ，以及一個function **open(index)** 點擊當前tab時將isOpen變成該index值，
然後打開/關閉的樣式： arrow-up/down  &&  content-display: none/block，綁上v-bind:class="{ '添加的樣式名稱': 打開條件 }"。

<br/>

有個UI的小地方是，使用者習慣手風琴的設計"再點擊一次同tab會關起來"，所以才將open的function寫下來多個條件式，
不然的話，如果想要簡單地"點擊該tab，isOpen的值變成該index值"，例如： 以下第二種，tab點擊頁籤式的，就可以直接在行內，將isOpen的值用@click做切換。

<br/>

## 二、 tab 頁籤式 content為同一塊動態切換內容

## 二、 router.link 根據url自動打開